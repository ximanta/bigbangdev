import React, { useState, useEffect } from 'react';import { useParams, useNavigate } from 'react-router-dom';import { quizQuestions } from '../data/mockData';import Button from '../components/Button';import ProgressBar from '../components/ProgressBar';import RadioOption from '../components/RadioOption';import AlertToast from '../components/AlertToast';function QuizGamePage(){  const { quizMode } = useParams();  const navigate = useNavigate();  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);  const [selectedAnswer, setSelectedAnswer] = useState(null);  const [score, setScore] = useState(0);  const [quizResults, setQuizResults] = useState([]);  const [showAlert, setShowAlert] = useState(false);  const [alertMessage, setAlertMessage] = useState('');  const [alertType, setAlertType] = useState('info');  const filteredQuestions = quizQuestions.filter(    (q) => q.mode === quizMode,  );  useEffect(() => {    if (filteredQuestions.length === 0) {      navigate('/quizzes');    }  }, [filteredQuestions, navigate]);  if (filteredQuestions.length === 0) {    return (      <div className="container">        <h1 className="text-center">          No questions found for this mode.        </h1>        <div className="flex-center">          <Button            onClick={() => navigate('/quizzes')}            variant="secondary"          >            Back to Quizzes          </Button>        </div>      </div>    );  }  const currentQuestion = filteredQuestions[currentQuestionIndex];  const handleOptionChange = (event) => {    setSelectedAnswer(event.target.value);  };  const handleSubmitAnswer = () => {    if (selectedAnswer === null) {      setAlertMessage('Please select an answer!');      setAlertType('error');      setShowAlert(true);      return;    }    const isCorrect = selectedAnswer === currentQuestion.correctAnswer;    if (isCorrect) {      setScore(score + 1);      setAlertMessage('Correct!');      setAlertType('success');    } else {      setAlertMessage('Incorrect. Try again next time!');      setAlertType('error');    }    setShowAlert(true);    setQuizResults([      ...quizResults,      {        question: currentQuestion.question,        yourAnswer: selectedAnswer,        correctAnswer: currentQuestion.correctAnswer,        isCorrect: isCorrect,        explanation: currentQuestion.explanation,        imageUrl: currentQuestion.imageUrl,      },    ]);    setTimeout(() => {      if (currentQuestionIndex < filteredQuestions.length - 1) {        setCurrentQuestionIndex(currentQuestionIndex + 1);        setSelectedAnswer(null);        setShowAlert(false);      } else {        navigate('/quiz-results', {          state: { score, totalQuestions: filteredQuestions.length, quizResults },        });      }    }, 1500);  };  return (    <div className="container quiz-game-page">      <h1 className="text-center">        {quizMode}      </h1>      <ProgressBar        current={currentQuestionIndex + 1}        total={filteredQuestions.length}      />      <p className="text-center">        Question {currentQuestionIndex + 1} of {filteredQuestions.length}      </p>      <h2 style={{ marginTop: '20px' }}>        {currentQuestion.question}      </h2>      {currentQuestion.imageUrl && (        <img          src={currentQuestion.imageUrl}          alt="Quiz illustration"          className="quiz-question-image"        />      )}      <div className="quiz-options-grid">        {currentQuestion.options.map((option) => (          <RadioOption            key={option}            id={option}            name="quiz-option"            value={option}            label={option}            checked={selectedAnswer === option}            onChange={handleOptionChange}          />        ))}      </div>      <div style={{ marginTop: '30px', textAlign: 'center' }}>        <Button          onClick={handleSubmitAnswer}          disabled={selectedAnswer === null}        >          Submit Answer        </Button>      </div>      <AlertToast        message={alertMessage}        type={alertType}        duration={1500}      />    </div>  );}export default QuizGamePage;